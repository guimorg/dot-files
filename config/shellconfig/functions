mcd () {
    # Creates dir and cd into dir
    mkdir -p ${1}
    cd ${1}
}

inject_init_py() {
	if [[ -d ${1} ]]; then
		touch ${1}/__init__.py
	else
		echo "${1} is not a directory, please try again"
		exit 1
	fi
}

md_to_html() {
	# Really ugly way to render markdown files
	# I need to make this prettier, but for now
	# it works
	new_html_file="${1}.html"
	pandoc -f markdown -t html ${1} > ${new_html_file}
	google-chrome ${new_html_file}
	sleep 2
	rm ${new_html_file}
}

get_ip_cidr() {
    URL=`curl --silent http://checkip.amazonaws.com/`
    echo "${URL}/32"
}

start_vpn() {
	echo 'Connecting to VPN...'
	pushd $HOME/.secrets
	sudo openvpn client.ovpn --daemon
	echo 'Connected!'
	export DISPLAY=:0.0
	nofify-send 'Connected to VPN!'
	popd
}

stop_vpn() {
	echo 'Stopping VPN Connection...'
	sudo killall openvpn
	echo 'Removing VPN tunnel if exists...'
	sudo ip link delete tun0
	echo 'Disconnected'
	DISPLAY=:0.0 notify-send "Disconnected from VPN!"
}

restart_vpn() {
	stop_vpn
	start_vpn
}

status_vpn() {
	ps -a | grep openvpn
	echo 'VPN running in this process.'
}

to_gif(){
    echo "📽️  Going to transform ${1} to ${2} 📽️"
    ffmpeg -i ${1}.mp4 -r 10 -f gif - | gifsicle --optimize=3 --delay=3 > ${2}.gif
    echo "🍿 Finished! 🍿"
}

function gi() { curl -sLw n https://www.toptal.com/developers/gitignore/api/$@ ;}

# Colourized cat output
ccat() {
  case "$1" in
      *.md) glow -s dark "$1";;
      *) highlight -O ansi "$1" --force;;
  esac
}
